
# 8.13作业

## 1.NVIC

- 高抢占式优先级的中断可以抢占低抢占式优先级的中断的执行（中断嵌套）

- 如果抢占式优先级相同就不存在中断嵌套
 
- 中断后可以用CallBack函数来执行中断后的操作，不宜太复杂

## 2.TIM时钟

- 定时器主要功能是时间测量，事件计数

- TIM2、3、4、5——通用计时器，向上计数模式

- 计算公式：time=（ARR+1）*（PSC+1）/Tclk

- 四个独立通道

## 3.创建工程

- timers->TIM1->PSC：167，ARR：999->NVIC settings->选第二个

## 4.PWM

- 占空比：高电平持续时间占整个周期的比值，占空比越高，平均输出电压越高

- 打开自动重载

- __HAL_TIM_SetCompare(&htim3,TIM_CHANNEL_1,i)；   可以通过改变i值来改变占空比，进而改变平均输出电压

- 	HAL_TIM_PWM_Start(&htim3,TIM_CHANNEL_1);